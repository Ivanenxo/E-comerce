<!-- list-client.component.html -->
<div class="p-6">
  <h2 class="text-2xl font-semibold mb-4 text-gray-800">Clientes</h2>

  <!-- Opcional: filtros externos (puedes comentar si quieres filtros integrados del grid) -->
  <div class="mb-4 flex flex-col md:flex-row gap-4">
    <div class="flex items-center gap-3">
      <label class="text-gray-700 font-medium">Filtrar por ciudad:</label>
      <select [(ngModel)]="ciudadFiltro" (change)="aplicarFiltrosExternos()"
              class="border border-gray-300 rounded-lg px-3 py-2 focus:ring focus:ring-blue-300">
        <option value="">Todas</option>
        <option *ngFor="let ciudad of ciudadesDisponibles" [value]="ciudad">
          {{ ciudad }}
        </option>
      </select>
    </div>

    <div class="flex items-center gap-3">
      <label class="text-gray-700 font-medium">Filtrar por tipo cliente:</label>
      <select [(ngModel)]="tipoClienteFiltro" (change)="aplicarFiltrosExternos()"
              class="border border-gray-300 rounded-lg px-3 py-2 focus:ring focus:ring-blue-300">
        <option value="">Todos</option>
        <option *ngFor="let tipo of tiposClientesDisponibles" [value]="tipo">
          {{ tipo }}
        </option>
      </select>
    </div>

    <div class="flex items-center gap-3">
      <label class="text-gray-700 font-medium">Filtrar por vendedor:</label>
      <select [(ngModel)]="vendedorFiltro" (change)="aplicarFiltrosExternos()"
              class="border border-gray-300 rounded-lg px-3 py-2 focus:ring focus:ring-blue-300">
        <option value="">Todos</option>
        <option *ngFor="let ven of vendedoresDisponibles" [value]="ven">
          {{ ven }}
        </option>
      </select>
    </div>
  </div>

  <!-- DataGrid -->
  <dx-data-grid
    #dataGrid
    [dataSource]="dataSource"
    [showBorders]="true"
    [columnAutoWidth]="true"
    [columnHidingEnabled]="true"
    [height]="400"
    [filterRow]="{ visible: true }"
    [headerFilter]="{ visible: true }"
    [searchPanel]="{ visible: true, placeholder: 'Buscar cliente...' }"
    (onContentReady)="onContentReady($event)"
    (onRowClick)="onRowClick($event)">

    <dxi-column dataField="Codigo" caption="Código"></dxi-column>
    <dxi-column dataField="NombreComercial" caption="Nombre Comercial"></dxi-column>
    <dxi-column dataField="TipoCliente" caption="Tipo Cliente"></dxi-column>
    <dxi-column dataField="Ciudad" caption="Ciudad"></dxi-column>
    <dxi-column dataField="Telefonos" caption="Teléfonos"></dxi-column>
    <dxi-column dataField="Email" caption="Email"></dxi-column>
    <dxi-column dataField="Vendedor" caption="Vendedor"></dxi-column>

    <!-- Export / Editing / Summary pueden añadirse aquí -->
    <!-- Ejemplo: <dxo-editing mode="row" [allowUpdating]="true"></dxo-editing> -->
  </dx-data-grid>
</div>
