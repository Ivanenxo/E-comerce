<div class="max-w-md mx-auto p-8 bg-white shadow-md rounded-lg space-y-6">
  <h2 class="text-2xl md:text-3xl font-bold text-center text-[#0d2744]">
    Recuperar contraseña
  </h2>

  <!-- Paso 1 -->
  <div *ngIf="step === 1" class="space-y-4">
    <div class="flex flex-col">
      <label class="text-gray-700 font-semibold mb-1">Codigo Cliente</label>
      <input
        type="text"
        [(ngModel)]="documento"
        class="p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
        placeholder="Ingrese su documento"
      />
    </div>

    <button
      (click)="sendPin()"
      [disabled]="loading || !documento"
      class="w-full p-2 text-white rounded bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"
    >
      {{ loading ? 'Enviando...' : 'Enviar PIN' }}
    </button>
  </div>

  <!-- Paso 2 -->
  <div *ngIf="step === 2" class="space-y-4">
    <div class="flex flex-col">
      <label class="text-gray-700 font-semibold mb-1">PIN</label>
      <input
        type="text"
        [(ngModel)]="pin"
        class="p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
        placeholder="Ingrese el PIN"
      />
    </div>

    <div class="flex flex-col">
      <label class="text-gray-700 font-semibold mb-1">Nueva contraseña</label>
      <input
        type="password"
        [(ngModel)]="password"
        class="p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
        placeholder="Ingrese su nueva contraseña"
      />
    </div>

    <button
      (click)="changePassword()"
      [disabled]="loading || !pin || !password"
      class="w-full p-2 text-white rounded bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50"
    >
      {{ loading ? 'Cambiando...' : 'Cambiar contraseña' }}
    </button>
  </div>

  <!-- Mensajes -->
  <p *ngIf="message" class="text-center text-sm font-medium text-gray-700">
    {{ message }}
  </p>

  <a routerLink="/login" class="text-blue-600 hover:underline">
    ← Regresar al Login
  </a>
</div>
